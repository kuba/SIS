<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      py:strip="">
    <py:match path="head" once="true">
        <head py:attrs="select('@*')">
            <title py:with="title = list(select('title/text()'))">
                Staszic<py:if test="title"> | ${title}</py:if>
            </title>
            <link rel="stylesheet" type="text/css" href="/base.css" />
            ${select('*[local-name()!="title"]')}
        </head>
    </py:match>
    <py:match path="body" once="true">
        <body py:attrs="select('@*')">
            <div id="header">
                <h1>Staszic Information System</h1>
                <div id="user-tools">
                    <py:choose test="h.signed_in()">
                        <span py:when="None"><a href="/login">Login</a></span>
                        <span py:otherwise="">
                            Welcome,
                            <strong>${h.signed_in().user_name}</strong>.
                            <a href="/logout">Logout</a>
                        </span>
                    </py:choose>
                </div>
            </div>
            <div id="content">
                ${select('*|text()')}
            </div>
        </body>
    </py:match>
</html>
